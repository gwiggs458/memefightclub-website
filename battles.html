<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Hub - Meme Fight Club</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(45deg, #0a0015, #1a0033, #330066);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid #ff0066;
            z-index: 1000;
            padding: 1rem 2rem;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.3rem;
            font-weight: bold;
            color: #ff0066;
        }

        .nav-links {
            display: flex;
            gap: 0.5rem;
            flex-wrap: nowrap;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
            padding: 0.4rem 0.7rem;
            border-radius: 5px;
            font-size: 0.85rem;
            white-space: nowrap;
        }

        .nav-links a:hover, .nav-links a.active {
            color: #ff0066;
            background: rgba(255, 0, 102, 0.1);
        }

        /* Main Content */
        .main-content {
            margin-top: 100px;
            padding: 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .page-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ff0066, #ffff00, #00ff66);
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }

        .page-subtitle {
            text-align: center;
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 3rem;
        }

        /* Grid Layout */
        .hub-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        /* News Feed */
        .news-feed {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff0066;
            border-radius: 20px;
            padding: 2rem;
        }

        .section-title {
            font-size: 1.5rem;
            color: #ff0066;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .news-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid #00ff66;
            transition: transform 0.3s ease;
        }

        .news-item:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.1);
        }

        .news-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .news-title {
            font-weight: bold;
            color: #ffff00;
        }

        .news-time {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .news-content {
            line-height: 1.5;
            margin-bottom: 0.5rem;
        }

        .news-source {
            font-size: 0.9rem;
            color: #00ff66;
            font-weight: bold;
        }

        /* Community Panel */
        .community-panel {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .panel-section {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff66;
            border-radius: 15px;
            padding: 1.5rem;
        }

        /* MEFC Holder Benefits */
        .holder-benefits {
            background: linear-gradient(45deg, rgba(255, 0, 102, 0.1), rgba(255, 255, 0, 0.1));
            border: 2px solid #ffff00;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        /* Community Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 0.8rem;
            border-radius: 8px;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00ff66;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* Submission Form */
        .submission-form {
            display: grid;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-input, .form-textarea {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #333;
            border-radius: 5px;
            padding: 0.8rem;
            color: white;
            font-family: inherit;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #ff0066;
            box-shadow: 0 0 10px rgba(255, 0, 102, 0.3);
        }

        .submit-btn {
            background: linear-gradient(45deg, #ff0066, #ff3399);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 0, 102, 0.4);
        }

        /* Meme Gallery */
        .meme-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .meme-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .meme-card:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.1);
        }

        .meme-placeholder {
            width: 100%;
            height: 150px;
            background: linear-gradient(45deg, #333, #555);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .meme-title {
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .meme-creator {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        /* Social Links */
        .social-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1.2rem;
            border-radius: 25px;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: rgba(255, 0, 102, 0.2);
            transform: translateY(-2px);
        }

        .loading-indicator {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .refresh-btn {
            background: linear-gradient(45deg, #00ff66, #33ff99);
            color: #000;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            margin-left: 1rem;
        }

        .refresh-btn:hover {
            transform: scale(1.05);
        }

        .news-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hub-grid {
                grid-template-columns: 1fr;
            }
            
            .page-title {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .social-links {
                flex-direction: column;
                align-items: stretch;
            }

            .nav-links a {
                font-size: 0.75rem;
                padding: 0.3rem 0.5rem;
            }

            .logo {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="logo">
                <div style="width: 40px; height: 40px; background: linear-gradient(45deg, #ff0066, #ffff00); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px; font-size: 1.5rem;">🥊</div>
                MEME FIGHT CLUB
            </div>
            <div class="nav-links">
                <a href="index.html">HOME</a>
                <a href="battles.html" class="active">COMMUNITY</a>
                <a href="leaderboard.html">LEADERBOARD</a>
                <a href="https://suivision.xyz/coin/0xc44a14f76b8defe396f91b34dbeb8904928bce4084f52eb49cd3b2ca489c4ae6::mefc::MEFC" target="_blank">MEFC TOKEN</a>
                <a href="disclaimer.html">DISCLAIMER</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <h1 class="page-title">🌟 COMMUNITY HUB</h1>
        <p class="page-subtitle">Your central hub for meme coin news, community submissions, and exclusive MEFC holder content</p>

        <div class="hub-grid">
            <!-- News Feed -->
            <section class="news-feed">
                <h2 class="section-title">
                    📰 Latest Meme Coin News
                    <button class="refresh-btn" onclick="refreshNews()">🔄 Refresh</button>
                </h2>
                <div class="loading-indicator" id="loadingNews" style="text-align: center; padding: 2rem; color: #ffff00;">
                    🔄 Loading latest news...
                </div>
                <div id="newsContainer">
                    <!-- News items will be populated by RSS feeds -->
                </div>
            </section>

            <!-- Community Panel -->
            <aside class="community-panel">
                <!-- MEFC Holder Benefits -->
                <section class="panel-section holder-benefits">
                    <h3 class="section-title">💰 MEFC Holder Benefits</h3>
                    <div class="benefit-item">🗳️ Enhanced voting power (1 MEFC = 10 votes)</div>
                    <div class="benefit-item">🏆 Exclusive tournament access</div>
                    <div class="benefit-item">📰 Early news alerts</div>
                    <div class="benefit-item">🎁 Monthly airdrops</div>
                    <div class="benefit-item">💬 VIP Discord channels</div>
                    <div class="benefit-item">📊 Advanced analytics</div>
                </section>

                <!-- Community Stats -->
                <section class="panel-section">
                    <h3 class="section-title">📊 Community Stats</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number">12,547</div>
                            <div class="stat-label">Discord Members</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">8,923</div>
                            <div class="stat-label">Twitter Followers</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">10,142</div>
                            <div class="stat-label">MEFC Holders</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">247</div>
                            <div class="stat-label">Online Now</div>
                        </div>
                    </div>
                </section>

                <!-- Suggest New Coin -->
                <section class="panel-section">
                    <h3 class="section-title">🎯 Suggest New Coin</h3>
                    <form class="submission-form" onsubmit="submitCoin(event)">
                        <div class="form-group">
                            <label>Coin Name:</label>
                            <input type="text" class="form-input" placeholder="e.g., SafeMoon" required>
                        </div>
                        <div class="form-group">
                            <label>Symbol:</label>
                            <input type="text" class="form-input" placeholder="e.g., SAFEMOON" required>
                        </div>
                        <div class="form-group">
                            <label>Why should we add it?</label>
                            <textarea class="form-textarea" rows="3" placeholder="Tell us why this coin deserves a spot..." required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">📮 Submit Suggestion</button>
                    </form>
                </section>
            </aside>
        </div>

        <!-- Community Meme Gallery -->
        <section class="panel-section" style="background: rgba(0, 0, 0, 0.8); border: 2px solid #ff0066; border-radius: 20px; padding: 2rem;">
            <h2 class="section-title">🎨 Community Meme Gallery</h2>
            <p style="opacity: 0.8; margin-bottom: 1rem;">Share your best meme coin creations and vote on community favorites!</p>
            
            <div class="meme-gallery">
                <div class="meme-card" onclick="viewMeme(1)">
                    <div class="meme-placeholder">🐸💎</div>
                    <div class="meme-title">Diamond Hands Pepe</div>
                    <div class="meme-creator">by CryptoArtist</div>
                </div>
                <div class="meme-card" onclick="viewMeme(2)">
                    <div class="meme-placeholder">🐕🚀</div>
                    <div class="meme-title">Doge to the Moon</div>
                    <div class="meme-creator">by MemeKing420</div>
                </div>
                <div class="meme-card" onclick="viewMeme(3)">
                    <div class="meme-placeholder">🥊⚡</div>
                    <div class="meme-title">MEFC Champion</div>
                    <div class="meme-creator">by FightClubFan</div>
                </div>
                <div class="meme-card" onclick="viewMeme(4)">
                    <div class="meme-placeholder">🎯📈</div>
                    <div class="meme-title">Bull Market Vibes</div>
                    <div class="meme-creator">by ChartMaster</div>
                </div>
            </div>
        </section>

        <!-- Social Links -->
        <section class="social-links">
            <a href="#" class="social-link">
                <span>💬</span>
                <span>Join Discord</span>
            </a>
            <a href="#" class="social-link">
                <span>🐦</span>
                <span>Follow Twitter</span>
            </a>
            <a href="#" class="social-link">
                <span>📱</span>
                <span>Telegram Chat</span>
            </a>
            <a href="#" class="social-link">
                <span>📺</span>
                <span>YouTube Channel</span>
            </a>
        </section>
    </main>

    <script>
        // RSS Feed Sources for Meme Coin News
        const RSS_SOURCES = [
            {
                name: 'CoinDesk',
                url: 'https://feeds.feedburner.com/CoinDeskBlogs',
                proxy: 'https://api.rss2json.com/v1/api.json?rss_url='
            },
            {
                name: 'Decrypt',
                url: 'https://decrypt.co/feed',
                proxy: 'https://api.rss2json.com/v1/api.json?rss_url='
            },
            {
                name: 'CoinTelegraph',
                url: 'https://cointelegraph.com/rss',
                proxy: 'https://api.rss2json.com/v1/api.json?rss_url='
            }
        ];

        // Meme coin keywords for filtering
        const MEME_KEYWORDS = [
            'dogecoin', 'doge', 'shiba', 'shib', 'pepe', 'bonk', 'floki', 
            'meme coin', 'memecoin', 'meme token', 'dogwifhat', 'wif',
            'trump coin', 'elon', 'popcat', 'wojak', 'ape coin',
            'safemoon', 'babydoge', 'kishu', 'akita', 'hokkaido'
        ];

        // Store fetched articles
        let allArticles = [];
        let lastFetchTime = 0;
        const CACHE_DURATION = 30 * 60 * 1000; // 30 minutes

        // Fetch news from RSS feeds
        async function fetchRSSFeed(source) {
            try {
                const response = await fetch(source.proxy + encodeURIComponent(source.url));
                const data = await response.json();
                
                if (data.status === 'ok' && data.items) {
                    return data.items.map(item => ({
                        title: item.title,
                        description: item.description,
                        link: item.link,
                        pubDate: new Date(item.pubDate),
                        source: source.name,
                        content: item.content || item.description
                    }));
                }
                return [];
            } catch (error) {
                console.error(`Error fetching ${source.name}:`, error);
                return [];
            }
        }

        // Check if article is meme coin related
        function isMemeRelated(article) {
            const text = (article.title + ' ' + article.description + ' ' + article.content).toLowerCase();
            return MEME_KEYWORDS.some(keyword => text.includes(keyword));
        }

        // Format time ago
        function timeAgo(date) {
            const now = new Date();
            const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));
            
            if (diffInHours < 1) return 'Just now';
            if (diffInHours === 1) return '1 hour ago';
            if (diffInHours < 24) return `${diffInHours} hours ago`;
            
            const diffInDays = Math.floor(diffInHours / 24);
            if (diffInDays === 1) return '1 day ago';
            return `${diffInDays} days ago`;
        }

        // Clean and truncate text
        function cleanText(text, maxLength = 150) {
            // Remove HTML tags
            const cleanText = text.replace(/<[^>]*>/g, '');
            // Decode HTML entities
            const decoded = cleanText.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"');
            // Truncate if too long
            return decoded.length > maxLength ? decoded.substring(0, maxLength) + '...' : decoded;
        }

        // Add emoji based on content
        function getEmoji(title, content) {
            const text = (title + ' ' + content).toLowerCase();
            
            if (text.includes('surge') || text.includes('pump') || text.includes('rally') || text.includes('gain')) return '🚀';
            if (text.includes('crash') || text.includes('dump') || text.includes('fall') || text.includes('drop')) return '📉';
            if (text.includes('doge') || text.includes('shiba')) return '🐕';
            if (text.includes('pepe') || text.includes('frog')) return '🐸';
            if (text.includes('cat') || text.includes('popcat')) return '🐱';
            if (text.includes('elon') || text.includes('musk')) return '🚀';
            if (text.includes('listing') || text.includes('exchange')) return '📈';
            if (text.includes('whale') || text.includes('buy')) return '🐋';
            if (text.includes('burn') || text.includes('destroy')) return '🔥';
            if (text.includes('airdrop') || text.includes('reward')) return '🎁';
            
            return '💎'; // Default
        }

        // Render news articles
        function renderNews(articles) {
            const container = document.getElementById('newsContainer');
            const loading = document.getElementById('loadingNews');
            
            loading.style.display = 'none';
            
            if (articles.length === 0) {
                container.innerHTML = `
                    <div class="news-item">
                        <div class="news-header">
                            <div class="news-title">📰 No recent meme coin news found</div>
                            <div class="news-time">-</div>
                        </div>
                        <div class="news-content">
                            We're scanning multiple crypto news sources for meme coin updates. Try refreshing in a few minutes!
                        </div>
                        <div class="news-source">MEFC News Scanner</div>
                    </div>
                `;
                return;
            }

            // Sort by date and limit to 8 articles
            const sortedArticles = articles
                .sort((a, b) => b.pubDate - a.pubDate)
                .slice(0, 8);

            container.innerHTML = sortedArticles.map(article => `
                <article class="news-item" onclick="openArticle('${article.link}')">
                    <div class="news-header">
                        <div class="news-title">${getEmoji(article.title, article.content)} ${cleanText(article.title, 80)}</div>
                        <div class="news-time">${timeAgo(article.pubDate)}</div>
                    </div>
                    <div class="news-content">
                        ${cleanText(article.description)}
                    </div>
                    <div class="news-source">${article.source}</div>
                </article>
            `).join('');

            // Add meta info
            const meta = document.createElement('div');
            meta.className = 'news-meta';
            meta.innerHTML = `
                <span>Found ${sortedArticles.length} meme coin articles</span>
                <span>Last updated: ${new Date().toLocaleTimeString()}</span>
            `;
            container.insertBefore(meta, container.firstChild);
        }

        // Open article in new tab
        function openArticle(url) {
            window.open(url, '_blank');
        }

        // Fetch all news
        async function fetchAllNews() {
            const now = Date.now();
            
            // Use cache if recent
            if (allArticles.length > 0 && (now - lastFetchTime) < CACHE_DURATION) {
                renderNews(allArticles);
                return;
            }

            document.getElementById('loadingNews').style.display = 'block';
            
            try {
                // Fetch from all sources
                const promises = RSS_SOURCES.map(source => fetchRSSFeed(source));
                const results = await Promise.all(promises);
                
                // Combine and filter articles
                const combined = results.flat();
                allArticles = combined.filter(isMemeRelated);
                lastFetchTime = now;
                
                // Add MEFC promotional article if we have articles
                if (allArticles.length > 0) {
                    allArticles.unshift({
                        title: 'MEFC Community Reaches New Milestone',
                        description: 'Meme Fight Club token holders enjoy exclusive voting power and community benefits. Join the fight for meme coin supremacy!',
                        link: 'https://suivision.xyz/coin/0xc44a14f76b8defe396f91b34dbeb8904928bce4084f52eb49cd3b2ca489c4ae6::mefc::MEFC',
                        pubDate: new Date(),
                        source: 'MEFC Official',
                        content: 'Get MEFC tokens for enhanced voting power and exclusive benefits.'
                    });
                }
                
                renderNews(allArticles);
                
            } catch (error) {
                console.error('Error fetching news:', error);
                document.getElementById('loadingNews').innerHTML = '❌ Error loading news. <button onclick="refreshNews()" style="background: #ff0066; color: white; border: none; padding: 0.5rem; border-radius: 5px; margin-left: 1rem;">Try Again</button>';
            }
        }

        // Refresh news manually
        function refreshNews() {
            allArticles = [];
            lastFetchTime = 0;
            fetchAllNews();
        }

        function submitCoin(event) {
            event.preventDefault();
            
            // Show success message
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #00ff66, #33ff99);
                color: #000;
                padding: 2rem;
                border-radius: 15px;
                text-align: center;
                z-index: 10000;
                font-weight: bold;
                font-size: 1.2rem;
                box-shadow: 0 20px 40px rgba(0,0,0,0.8);
            `;
            popup.innerHTML = `
                🎉 Suggestion Submitted!<br>
                <div style="margin-top: 1rem; font-size: 1rem;">
                    Thanks! We'll review your coin suggestion and notify MEFC holders of new additions.
                </div>
            `;
            
            document.body.appendChild(popup);
            
            setTimeout(() => {
                popup.remove();
            }, 4000);
            
            // Reset form
            event.target.reset();
        }

        function viewMeme(id) {
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #ff0066, #ff3399);
                color: white;
                padding: 2rem;
                border-radius: 15px;
                text-align: center;
                z-index: 10000;
                font-weight: bold;
                font-size: 1.1rem;
                box-shadow: 0 20px 40px rgba(0,0,0,0.8);
            `;
            popup.innerHTML = `
                🎨 Meme Gallery Coming Soon!<br>
                <div style="margin-top: 1rem; font-size: 1rem;">
                    MEFC holders will get early access to upload and vote on community memes!
                </div>
            `;
            
            document.body.appendChild(popup);
            
            setTimeout(() => {
                popup.remove();
            }, 3000);
        }

        // Simulate live updates to community stats
        function updateStats() {
            const stats = document.querySelectorAll('.stat-number');
            stats.forEach(stat => {
                if (stat.textContent.includes('Online')) return;
                
                let current = parseInt(stat.textContent.replace(/,/g, ''));
                let increase = Math.floor(Math.random() * 5) + 1;
                current += increase;
                stat.textContent = current.toLocaleString();
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Fetch news immediately
            fetchAllNews();
            
            // Update stats every 30 seconds
            setInterval(updateStats, 30000);
            
            // Refresh news every 30 minutes
            setInterval(fetchAllNews, 30 * 60 * 1000);
            
            console.log('MEFC Community Hub with Live RSS Feeds loaded successfully!');
        });
    </script>
</body>
</html>
